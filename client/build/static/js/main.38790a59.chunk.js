(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(19),s=a.n(o),i=(a(69),a(10)),c=a(11),l=a(13),u=a(12),m=a(27),h=a(14),p=a(117),d=a(116),g=a(30),k=(a(24),a(15)),v=a.n(k),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",usernameErr:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value,usernameErr:""})}},{key:"submitRegister",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username};v.a.post("https://stormy-ocean-79116.herokuapp.com/https://hunter-todo-api.herokuapp.com/user",a).then((function(e){t.setState({usernameErr:"User registered!"})})).catch((function(e){t.setState({usernameErr:"User Already Exists!"})}))}},{key:"render",value:function(){var e=this.state.usernameErr;return r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"header"},"Register"),r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",className:"Register-input",placeholder:"Username",onChange:this.onUsernameChange.bind(this)}),r.a.createElement("small",{className:"danger-error"},e||"")),r.a.createElement("button",{type:"button",className:"Register-btn",onClick:this.submitRegister.bind(this)},"Register")))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",usernameErr:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value,usernameErr:""})}},{key:"submitLogin",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username};v.a.post("https://stormy-ocean-79116.herokuapp.com/https://hunter-todo-api.herokuapp.com/auth",a).then((function(e){if(200===e.status){console.log(e.data);var a={token:e.data.token,username:t.state.username};t.props.handler(a)}})).catch((function(e){if(404===e.status){var a={token:e.data.token,username:t.state.username};t.props.handler(a)}else console.log(e),t.setState({usernameErr:"User doesn't exist!"})}))}},{key:"render",value:function(){var e=this.state.usernameErr;return r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"header"},"Login"),r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",className:"login-input",placeholder:"Username",onChange:this.onUsernameChange.bind(this)}),r.a.createElement("small",{className:"danger-error"},e||"")),r.a.createElement("button",{type:"button",className:"login-btn",onClick:this.submitLogin.bind(this)},"Login")))}}]),t}(n.Component),f=a(22),O=function(e){function t(e){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"removeItem",value:function(){var e=this,t=this.props.data.id,a={headers:{Authorization:localStorage.getItem("userToken")}};v.a.delete("https://stormy-ocean-79116.herokuapp.com/https://hunter-todo-api.herokuapp.com/todo-item/"+t,a).then((function(t){e.props.handler(t.data)})).catch((function(t){console.log(t),e.setState({taskErr:"Something went wrong!"})}))}},{key:"completeItem",value:function(){var e=this,t=this.props.data.id,a={headers:{Authorization:localStorage.getItem("userToken")}};v.a.put("https://stormy-ocean-79116.herokuapp.com/https://hunter-todo-api.herokuapp.com/todo-item/"+t,{completed:!0},a).then((function(t){e.props.handler(t.data)})).catch((function(t){console.log(t),e.setState({taskErr:"Something went wrong!"})}))}},{key:"render",value:function(){var e="";return e=this.props.data.completed?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(f.a.Text,{style:{textDecoration:"line-through"}},this.props.data.content)," "):r.a.createElement(r.a.Fragment,null," ",r.a.createElement(f.a.Text,null,this.props.data.content)," "),r.a.createElement(f.a,{style:{width:"18rem"}},r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Title,null,"TO_DO"),e,r.a.createElement(f.a.Link,{onClick:this.completeItem.bind(this),href:"#"}," Mark As Done "),r.a.createElement(f.a.Link,{onClick:this.removeItem.bind(this),href:"#"}," Remove")))}}]),t}(n.Component),y=function(e){function t(e){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.tasks.map((function(t){return r.a.createElement(g.c,null," ",r.a.createElement(O,{key:"nice",data:t,handler:e.props.handler})," ")}))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={task:"",taskErr:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"ontaskChange",value:function(e){this.setState({task:e.target.value,taskErr:""})}},{key:"submitLogin",value:function(e){var t=this;e.preventDefault();var a={content:this.state.task},n={headers:{Authorization:localStorage.getItem("userToken")}};v.a.post("https://stormy-ocean-79116.herokuapp.com/https://hunter-todo-api.herokuapp.com/todo-item",a,n).then((function(e){console.log(e.status),console.log(e),t.props.handler(e.data)})).catch((function(e){console.log(e),t.setState({taskErr:"Something went wrong!"})}))}},{key:"render",value:function(){var e=this.state.taskErr;return r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"header"},"Add a new Task"),r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"task"},"task"),r.a.createElement("input",{type:"textarea",name:"task",className:"login-input",placeholder:"Task to Do",onChange:this.ontaskChange.bind(this)}),r.a.createElement("small",{className:"danger-error"},e||"")),r.a.createElement("button",{type:"button",className:"login-btn",onClick:this.submitLogin.bind(this)},"Add Task")))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handler=a.handler.bind(Object(m.a)(a)),a.state={loginOpen:!0,registerOpen:!1,tasks:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handler",value:function(e){localStorage.getItem("isAuthenticated")||(localStorage.setItem("userToken",e.token),localStorage.setItem("user",e.username),localStorage.setItem("isAuthenticated",!0),this.forceUpdate()),this.updateTasks()}},{key:"updateTasks",value:function(){var e=this,t=localStorage.getItem("userToken"),a={headers:{Authorization:t}};t&&v.a.get("https://stormy-ocean-79116.herokuapp.com/https://hunter-todo-api.herokuapp.com/todo-item",a).then((function(t){for(var a=t.data,n=0;n<a.length;n++)1==a[n].deleted&&delete a[n];e.setState({tasks:a})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("userToken"),a={headers:{Authorization:t}};t&&v.a.get("https://stormy-ocean-79116.herokuapp.com/https://hunter-todo-api.herokuapp.com/todo-item",a).then((function(t){for(var a=t.data,n=0;n<a.length;n++)1==a[n].deleted&&delete a[n];e.setState({tasks:a})})).catch((function(e){console.log(e)}))}},{key:"openRegister",value:function(){this.setState({loginOpen:!1,registerOpen:!0})}},{key:"openLogin",value:function(){this.setState({loginOpen:!0,registerOpen:!1})}},{key:"loginOut",value:function(){localStorage.removeItem("userToken"),localStorage.removeItem("user"),localStorage.removeItem("isAuthenticated"),this.forceUpdate()}},{key:"render",value:function(){var e="",t="",a=localStorage.getItem("isAuthenticated");e=a?r.a.createElement(p.a.Link,{onClick:this.loginOut.bind(this)}," Logout "):r.a.createElement(r.a.Fragment,null," ",r.a.createElement(p.a.Link,{onClick:this.openRegister.bind(this)},"Register"),r.a.createElement(p.a.Link,{onClick:this.openLogin.bind(this)},"Login")," ");localStorage.getItem("userToken");var n=localStorage.getItem("user");return t=a?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("h1",null," Welcome ",n," "),r.a.createElement("div",{className:"game-area"},r.a.createElement(g.g,null,r.a.createElement(y,{tasks:this.state.tasks,handler:this.handler})),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"box-container"},r.a.createElement(j,{handler:this.handler}))))):r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"box-container"},this.state.loginOpen&&r.a.createElement(b,{handler:this.handler}),this.state.registerOpen&&r.a.createElement(E,null))," "),r.a.createElement("div",{className:"ToDoList"},r.a.createElement("header",null,r.a.createElement(d.a,{variant:"dark",bg:"primary"},r.a.createElement(d.a.Brand,{href:"/"},"Modern ToDoList"),r.a.createElement(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a,{bg:"light",className:"ml-auto"},e))),t)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){},64:function(e,t,a){e.exports=a(110)},69:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.38790a59.chunk.js.map